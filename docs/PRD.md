# 레시피 카탈로그 (Recipe Catalog) - PRD

## 프로젝트 개요

### 프로젝트명

**레시피 카탈로그** (Recipe Catalog)

### 목적

Notion을 CMS로 활용하여 레시피 데이터를 중앙 집중식으로 관리하고, 웹에서 실시간으로 조회 및 필터링할 수 있는 동적 레시피 플랫폼 구축

### CMS 선택 이유

- **Notion API 활용:** 개발자가 아닌 사용자도 Notion 데이터베이스에서 직접 레시피를 작성/수정/삭제 가능
- **실시간 동기화:** 별도의 백엔드 데이터베이스 없이 Notion을 단일 소스 오브 트루스로 활용
- **빠른 프로토타이핑:** 초기 콘텐츠 입력 및 관리의 난이도 낮음
- **비용 효율:** 서버리스 아키텍처로 운영 비용 최소화

---

## 주요 기능

### 1. Notion API 기반 레시피 동적 조회

- Notion 데이터베이스에서 실시간으로 레시피 데이터를 가져와 웹에 표시
- 캐싱 전략으로 성능 최적화 (ISR - Incremental Static Regeneration)
- 새로운 레시피 추가 시 자동으로 웹에 반영

### 2. 그리드 레이아웃 레시피 카드 전시

- 모든 레시피를 카드 형식으로 반응형 그리드에 표시
- 카드 요소: 이미지, 제목, 카테고리 배지, 조리시간, 난이도
- 마우스 호버 시 부드러운 애니메이션 효과

### 3. 검색 및 필터 기능

- **카테고리 필터:** 한식, 양식, 중식 등으로 분류
- **조리시간 필터:** 10분, 20분, 30분 이상 선택 가능
- **실시간 검색:** 제목 및 재료 기반 검색
- 필터 조합 가능 (예: "한식 + 20분 이내")

### 4. 상세 페이지

- 선택한 레시피의 전체 정보 표시
- 구성: 이미지, 제목, 카테고리, 조리시간, 난이도, 재료 목록, 조리법 단계별 안내
- 공유 버튼 (소셜 미디어, 클립보드 복사)

---

## 기술 스택

| 계층         | 기술                       |
| ------------ | -------------------------- |
| **Frontend** | Next.js 15 (App Router)    |
| **언어**     | TypeScript (strict 모드)   |
| **스타일링** | Tailwind CSS 4 + shadcn/ui |
| **아이콘**   | Lucide React               |
| **상태관리** | Zustand (선택사항)         |
| **검증**     | Zod + React Hook Form      |
| **CMS**      | Notion API                 |
| **API 통신** | fetch (내장)               |

---

## Notion 데이터베이스 구조

### 레시피 데이터베이스 (`Recipes`)

| 필드명           | 필드 타입     | 설명                                         |
| ---------------- | ------------- | -------------------------------------------- |
| **Title**        | Title         | 레시피 제목 (필수)                           |
| **Category**     | Select        | 요리 카테고리 (한식, 양식, 중식, 일식, 기타) |
| **CookingTime**  | Number        | 조리시간 (분 단위)                           |
| **Difficulty**   | Select        | 난이도 (초급, 중급, 상급)                    |
| **Ingredients**  | Rich Text     | 재료 목록 (마크다운 또는 불릿 형식)          |
| **Instructions** | Rich Text     | 조리 방법 (단계별)                           |
| **Image**        | Files & media | 요리 이미지                                  |
| **Servings**     | Number        | 인분 (예: 2인분)                             |
| **Published**    | Checkbox      | 공개 여부                                    |

### 데이터 예시

```
- Title: 계란 계란말이
- Category: 한식
- CookingTime: 15
- Difficulty: 초급
- Ingredients: 계란 3개, 설탕 1큰술, 소금 1/4작은술, 기름 1큰술
- Instructions: 1. 계란을 풀어준다 2. 팬에 기름을 두르고... 3. 계란을 붓고 말아준다
- Image: [업로드된 이미지]
- Servings: 2
- Published: true
```

---

## 화면 구성

### 1. 메인 페이지 (`/`)

**설명:** 모든 레시피를 그리드 형식으로 표시하는 홈페이지

- 상단 헤더: 로고, 제목 "모든 레시피"
- 필터 섹션: 카테고리, 조리시간 드롭다운 & 검색 입력창
- 레시피 카드 그리드: 4열 반응형 레이아웃 (sm: 1열, md: 2열, lg: 4열)
- 필터 초기화 버튼
- 로딩 상태 & 빈 상태 처리

**구성 요소:**

```
Header
  ├─ 로고 + 제목
  └─ 테마 토글 (다크모드)

FilterSection
  ├─ 카테고리 셀렉트
  ├─ 조리시간 셀렉트
  ├─ 검색 입력
  └─ 초기화 버튼

RecipeGrid
  └─ RecipeCard × N
      ├─ 이미지
      ├─ 제목
      ├─ 카테고리 배지
      ├─ 조리시간 아이콘 + 텍스트
      └─ 난이도 배지

Footer
  └─ 저작권 정보
```

### 2. 레시피 상세 페이지 (`/recipes/[id]`)

**설명:** 선택한 레시피의 전체 정보를 표시하는 상세 페이지

**구성 요소:**

```
Header (공통)

BreadcrumbNav
  └─ Home > 카테고리 > 레시피 제목

RecipeDetail
  ├─ 상단 섹션
  │  ├─ 이미지 (큰 사이즈)
  │  ├─ 제목
  │  ├─ 메타정보 (카테고리, 난이도, 조리시간, 인분)
  │  └─ 공유 버튼 (클립보드 복사, 링크 공유)
  │
  ├─ 재료 섹션
  │  ├─ "필요한 재료" 제목
  │  └─ 재료 목록 (체크박스 기능 추가 가능)
  │
  ├─ 조리법 섹션
  │  ├─ "조리 방법" 제목
  │  └─ 단계별 안내 (숫자 표시)
  │
  └─ 하단 버튼
     ├─ 이전 레시피
     └─ 다음 레시피

Footer (공통)
```

---

## MVP 범위

### 포함할 최소 기능

- [x] Notion API 인증 및 데이터 조회
- [x] 메인 페이지: 모든 레시피 카드 그리드 표시
- [x] 카테고리 필터링 (드롭다운)
- [x] 조리시간 필터링 (드롭다운)
- [x] 검색 기능 (제목 기반)
- [x] 레시피 상세 페이지
- [x] 반응형 레이아웃
- [x] 로딩 및 에러 상태 처리

### 향후 확장 기능 (MVP 범위 제외)

- 즐겨찾기 기능 (로컬스토리지)
- 이메일 뉴스레터 구독
- 사용자 댓글 및 평가
- 주간 식단 플래너 통합
- PWA 지원
- SEO 최적화 (메타데이터)

---

## 구현 단계

### 1단계: 프로젝트 세팅 및 Notion API 연동 (5분)

**목표:** Notion API 연결 및 데이터 조회 확인

**작업:**

- Notion 데이터베이스 생성 및 샘플 데이터 입력
- Notion Integration 설정 및 API 키 발급
- `.env.local` 파일에 Notion API 키 및 데이터베이스 ID 저장
- Next.js API Route (`/api/recipes`) 생성 및 Notion 데이터 조회 테스트

**산출물:**

- Notion 통합 설정 완료
- API Route 구현 (쿼리 파라미터: 카테고리, 조리시간, 검색어)
- 데이터 조회 테스트 완료

---

### 2단계: UI 컴포넌트 개발 (10분)

**목표:** 메인 페이지의 필터 섹션 및 레시피 카드 구현

**작업:**

- `RecipeCard` 컴포넌트 제작 (이미지, 제목, 메타정보)
- `FilterSection` 컴포넌트 제작 (카테고리, 조리시간 필터 & 검색)
- `RecipeGrid` 컴포넌트 제작 (반응형 그리드)
- shadcn/ui 컴포넌트 활용 (Button, Select, Input, Badge)
- Tailwind CSS로 스타일링

**산출물:**

- 메인 페이지 레이아웃 (필터 + 카드 그리드)
- 필터 상태 관리 (URL 쿼리 파라미터 또는 상태 훅)
- 로딩 스켈레톤 & 빈 상태 UI

---

### 3단계: 상세 페이지 및 마무리 (10분)

**목표:** 레시피 상세 페이지 구현 및 전체 통합 테스트

**작업:**

- 동적 라우트 `/recipes/[id]` 생성
- 레시피 상세 정보 표시 (이미지, 제목, 메타정보, 재료, 조리법)
- 공유 기능 (클립보드 복사, 소셜 링크)
- 네비게이션 (이전/다음 레시피)
- 에러 처리 및 404 페이지
- 전체 반응형 테스트

**산출물:**

- 상세 페이지 완성
- 메인 → 상세 페이지 라우팅 연결
- 모든 필터 및 검색 기능 정상 작동 확인
- MVP 완성 및 배포 준비

---

## 개발 체크리스트

### Phase 1: 기초 설정

- [ ] Notion 데이터베이스 생성 및 샘플 데이터 5개 이상 입력
- [ ] Notion API Integration 생성 및 권한 설정
- [ ] `.env.local` 파일 작성
- [ ] API Route `/api/recipes` 구현

### Phase 2: UI 구현

- [ ] `RecipeCard` 컴포넌트 구현
- [ ] `FilterSection` 컴포넌트 구현
- [ ] 메인 페이지 레이아웃 완성
- [ ] 반응형 테스트 (모바일, 태블릿, 데스크톱)

### Phase 3: 상세 페이지

- [ ] 동적 라우트 `/recipes/[id]` 구현
- [ ] 상세 페이지 UI 완성
- [ ] 공유 기능 테스트
- [ ] 전체 기능 통합 테스트

### Phase 4: 배포

- [ ] 빌드 오류 확인 및 수정
- [ ] Vercel 배포

---

## 기술 고려사항

### 성능 최적화

- **ISR (Incremental Static Regeneration):** 레시피 데이터는 자주 변경되지 않으므로 ISR 활용 (revalidate: 3600초)
- **이미지 최적화:** `next/image` 컴포넌트 사용 (자동 포맷 변환, 레이지 로딩)
- **API 응답 캐싱:** 같은 필터 조건에 대한 중복 요청 방지

### 보안

- Notion API 키는 환경 변수로 관리 (.env.local에만 저장)
- API Route는 서버 사이드에서만 Notion API 호출
- CORS 설정 필요 (Vercel 환경에서 자동 처리)

### 타입 안전성

- Zod로 Notion API 응답 검증
- TypeScript strict 모드로 컴파일
- 모든 함수에 명시적 타입 지정

### 접근성

- 이미지에 `alt` 속성 필수
- ARIA 레이블 추가 (필터 버튼, 검색 입력)
- 키보드 네비게이션 지원

---

## 참고 자료

### Notion API 문서

- [Notion API 공식 문서](https://developers.notion.com/)
- [Notion 데이터베이스 쿼리 가이드](https://developers.notion.com/reference/post-database-query)

### Next.js 공식 자료

- [Next.js App Router](https://nextjs.org/docs/app)
- [ISR 설정](https://nextjs.org/docs/app/building-your-application/data-fetching/incremental-static-regeneration)

### shadcn/ui 컴포넌트

- Button, Card, Select, Input, Badge, Dialog

---

## 일정 (목표: 30분)

- 1~5분: Notion API 설정 및 테스트
- 6~15분: UI 컴포넌트 개발
- 16~25분: 상세 페이지 및 통합
- 26~30분: 테스트 및 마무리

**예상 완료 시간:** 30분
